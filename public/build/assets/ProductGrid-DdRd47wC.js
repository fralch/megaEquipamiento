import{r as d,j as a}from"./app-Cglb1nKu.js";const P=({products:e})=>{const[n,m]=d.useState(e||[]),[g,f]=d.useState(1),c=24,u={afganistán:"af",albania:"al",alemania:"de",andorra:"ad",angola:"ao","antigua y barbuda":"ag","arabia saudita":"sa",argelia:"dz",argentina:"ar",armenia:"am",australia:"au",austria:"at",azerbaiyán:"az",bahamas:"bs",bangladés:"bd",barbados:"bb",baréin:"bh",bélgica:"be",belice:"bz",benín:"bj",bielorrusia:"by",birmania:"mm",bolivia:"bo","bosnia y herzegovina":"ba",botsuana:"bw",brasil:"br",brunéi:"bn",bulgaria:"bg","burkina faso":"bf",burundi:"bi",bután:"bt","cabo verde":"cv",camboya:"kh",camerún:"cm",canadá:"ca",catar:"qa",chad:"td",chile:"cl",china:"cn",chipre:"cy",colombia:"co",comoras:"km","corea del norte":"kp","corea del sur":"kr","costa de marfil":"ci","costa rica":"cr",croacia:"hr",cuba:"cu",dinamarca:"dk",dominica:"dm",ecuador:"ec",egipto:"eg","el salvador":"sv","emiratos árabes unidos":"ae",eslovaquia:"sk",eslovenia:"si",españa:"es","estados unidos":"us",estonia:"ee",etiopía:"et",filipinas:"ph",finlandia:"fi",fiyi:"fj",francia:"fr",gabón:"ga",gambia:"gm",georgia:"ge",ghana:"gh",granada:"gd",grecia:"gr",guatemala:"gt",guinea:"gn","guinea-bisáu":"gw","guinea ecuatorial":"gq",guyana:"gy",haití:"ht",honduras:"hn",hungría:"hu",india:"in",indonesia:"id",irak:"iq",irán:"ir",irlanda:"ie",islandia:"is",israel:"il",italia:"it",jamaica:"jm",japón:"jp",jordania:"jo",kazajistán:"kz",kenia:"ke",kirguistán:"kg",kiribati:"ki",kuwait:"kw",laos:"la",letonia:"lv",líbano:"lb",liberia:"lr",libia:"ly",liechtenstein:"li",lituania:"lt",luxemburgo:"lu",madagascar:"mg",malasia:"my",malaui:"mw",maldivas:"mv",mali:"ml",malta:"mt",marruecos:"ma",mauricio:"mu",mauritania:"mr",méxico:"mx",micronesia:"fm",moldavia:"md",mónaco:"mc",mongolia:"mn",montenegro:"me",mozambique:"mz",namibia:"na",nauru:"nr",nepal:"np",nicaragua:"ni",nigeria:"ng",noruega:"no","nueva zelanda":"nz",omán:"om","países bajos":"nl",pakistán:"pk",palaos:"pw",panamá:"pa","papúa nueva guinea":"pg",paraguay:"py",perú:"pe",polonia:"pl",portugal:"pt","reino unido":"gb","república checa":"cz","república dominicana":"do",ruanda:"rw",rumania:"ro",rusia:"ru",samoa:"ws","san marino":"sm","santa lucía":"lc","santo tomé y príncipe":"st",senegal:"sn",serbia:"rs",singapur:"sg",siria:"sy","sri lanka":"lk",sudáfrica:"za",sudán:"sd",suecia:"se",suiza:"ch",surinam:"sr",tailandia:"th",tanzania:"tz",tayikistán:"tj","timor oriental":"tl",togo:"tg",tonga:"to","trinidad y tobago":"tt",túnez:"tn",turquía:"tr",turkmenistán:"tm",ucrania:"ua",uganda:"ug",uruguay:"uy",uzbekistán:"uz",vanuatu:"vu",venezuela:"ve",vietnam:"vn",yemen:"ye",zambia:"zm",zimbabue:"zw"};d.useEffect(()=>{if(!e||e.length===0)(async()=>{try{const l=(await(await fetch("http://127.0.0.1:8000/product/all")).json()).map(s=>{var h,x,j;const t=s.pais.toLowerCase(),o=u[t]||"unknown";return{id:s.id_producto,title:s.nombre,diameter:((h=s.caracteristicas)==null?void 0:h.Dimensiones)||"N/A",material:((x=s.caracteristicas)==null?void 0:x.Marca)||"N/A",brand:((j=s.caracteristicas)==null?void 0:j.Marca)||"N/A",origin:s.pais,price:parseFloat(s.precio_igv),image:s.imagen,flag:`https://flagcdn.com/w320/${o}.png`,description:s.descripcion}});m(l)}catch(r){console.error("Error fetching products:",r)}})();else{const i=e.map(r=>{var s,t,o;const p=r.pais.toLowerCase(),l=u[p]||"unknown";return{id:r.id_producto,title:r.nombre,diameter:((s=r.caracteristicas)==null?void 0:s.Dimensiones)||"N/A",material:((t=r.caracteristicas)==null?void 0:t.Marca)||"N/A",brand:((o=r.caracteristicas)==null?void 0:o.Marca)||"N/A",origin:r.pais,price:parseFloat(r.precio_igv),image:r.imagen,flag:`https://flagcdn.com/w320/${l}.png`,description:r.descripcion}});m(i)}},[e]);const b=g*c,y=b-c,v=n.slice(y,b),w=Math.ceil(n.length/c),N=i=>{f(i)};return a.jsxs("div",{children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 p-4",children:v.map(i=>a.jsx(k,{product:i},i.id))}),a.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:Array.from({length:w},(i,r)=>a.jsx("button",{onClick:()=>N(r+1),className:`px-4 py-2 rounded ${g===r+1?"bg-blue-600 text-white":"bg-gray-200"}`,children:r+1},r))})]})},k=({product:e})=>a.jsxs("div",{className:"max-w-sm mx-auto bg-white rounded-lg shadow-md overflow-hidden border min-h-[400px] relative group",children:[a.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-contain p-4"}),a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:e.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Diámetro:"})," ",e.diameter]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Material:"})," ",e.material]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Marca:"})," ",e.brand]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Procedencia:"})," ",e.origin]}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["$",e.price]}),a.jsx("img",{src:e.flag,alt:`Bandera de ${e.origin}`,className:"w-6 h-4 object-cover",onError:n=>{n.target.onerror=null,n.target.src="/path/to/default-flag.png"}})]})]}),a.jsxs("div",{className:"absolute inset-0 bg-gray-800 bg-opacity-90 text-white flex flex-col justify-start items-center transition-opacity duration-300 opacity-0 group-hover:opacity-100 p-4 overflow-y-auto max-h-full",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:e.title}),a.jsxs("div",{className:"text-sm text-gray-300 mb-2 space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Diámetro:"})," ",e.diameter]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Material:"})," ",e.material]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Marca:"})," ",e.brand]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Procedencia:"})," ",e.origin]}),a.jsx("div",{className:"mb-4",dangerouslySetInnerHTML:{__html:e.description}})]}),a.jsxs("div",{className:"flex space-x-4 mt-auto",children:[a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md",children:"Añadir al carrito"}),a.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md",children:"Comparar"})]})]})]});export{P};
