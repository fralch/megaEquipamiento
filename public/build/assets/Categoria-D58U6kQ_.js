import{r as a,j as s,Y as p,a as x}from"./app-Cglb1nKu.js";import{H as h,M as b,N as f,F as j}from"./Footer-DN0bjEgH.js";import{P as C}from"./ProductGrid-DdRd47wC.js";function S(){const[o,c]=a.useState(!1),[i,r]=a.useState([]),[n,m]=a.useState({}),[g,d]=a.useState(null);a.useEffect(()=>{const e=localStorage.getItem("categoriasCompleta");e?r(JSON.parse(e)):fetch("http://127.0.0.1:8000/categorias-completa").then(t=>t.json()).then(t=>{r(t),localStorage.setItem("categoriasCompleta",JSON.stringify(t))}).catch(t=>console.error("Error fetching data:",t))},[]);const u=e=>{m(t=>({...t,[e]:!t[e]})),d(e)},l=()=>{c(!o)};return s.jsxs("div",{children:[s.jsx(p,{title:"Categorias"}),s.jsx(h,{}),s.jsx(b,{toggleMenu:l,className:"mt-10"}),s.jsx(f,{isOpen:o,onClose:l}),s.jsxs("div",{className:"min-w-screen min-h-screen bg-gray-200 flex",children:[s.jsx("nav",{className:"w-1/6 p-4 overflow-y-auto bg-white",id:"nav-fijo",children:i.map(e=>s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>u(e.nombre),className:`block w-full text-left p-2 rounded ${g===e.nombre?"bg-[#0c2249] text-blue-200":"bg-gray-200 hover:bg-white"}`,children:[e.nombre,s.jsx("span",{className:"float-right",children:n[e.nombre]?"-":"+"})]}),n[e.nombre]&&e.subcategorias&&e.subcategorias.map(t=>s.jsx(x,{href:`/subcategoria/${t.id_subcategoria}`,className:"block p-2 pl-6 hover:bg-blue-100 bg-blue-50 rounded",children:t.nombre},t.id_subcategoria))]},e.id_categoria))}),s.jsx("div",{className:"flex-1 p-4",children:s.jsx(C,{})})]}),s.jsx(j,{})]})}export{S as default};
